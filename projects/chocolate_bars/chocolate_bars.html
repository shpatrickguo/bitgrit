
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Finding the best chocolate bars &#8212; shpg-dsprojects</title>
    <script src="https://unpkg.com/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6.3.1/dist/tippy-bundle.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
        <script>
            MathJax = {
            loader: {load: ['[tex]/boldsymbol', '[tex]/textmacros']},
            tex: {
                packages: {'[+]': ['boldsymbol', 'textmacros']},
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                processEscapes: true,
                macros: {
                    "argmax" : "arg\\,max",
                    "argmin" : "arg\\,min",
                    "col"    : "col",
                    "Span"   :  "span",
                    "epsilon": "\\varepsilon",
                    "EE": "\\mathbb{E}",
                    "PP": "\\mathbb{P}",
                    "RR": "\\mathbb{R}",
                    "NN": "\\mathbb{N}",
                    "ZZ": "\\mathbb{Z}",
                    "aA": "\\mathcal{A}",
                    "bB": "\\mathcal{B}",
                    "cC": "\\mathcal{C}",
                    "dD": "\\mathcal{D}",
                    "eE": "\\mathcal{E}",
                    "fF": "\\mathcal{F}",
                    "gG": "\\mathcal{G}",
                    "hH": "\\mathcal{H}",
                }
            },
            svg: {
                fontCache: 'global',
                scale: 0.92,
                displayAlign: "center",
            },
            };
        </script>
    
    
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/quantecon-book-theme.1ef59f8f4e91ec8319176e8479c6af4e.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">


    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "shpatrickguo/dsprojects");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "💬 comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script src="../../_static/quantecon-book-theme.15b0c36fffe88f468997fa7b698991d3.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Travel Assured" href="../travel_assured/travel_assured.html" />
    <link rel="prev" title="Predict the strength of concrete" href="../concrete_strength/concrete_strength.html" />

<!-- Normal Meta Tags -->
<meta name="author" context="Patrick Guo" />
<meta name="keywords" content="" />
<meta name="description" content=Finding the best chocolate bars  📖 Background  A specialty foods import company wants to expand into gourmet chocolate bars. Let’s research this market to infor />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@" />
<meta name="twitter:title" content="Finding the best chocolate bars"/>
<meta name="twitter:description" content="Finding the best chocolate bars  📖 Background  A specialty foods import company wants to expand into gourmet chocolate bars. Let’s research this market to infor">
<meta name="twitter:creator" content="@">
<meta name="twitter:image" content="">

<!-- Opengraph tags -->
<meta property="og:title" content="Finding the best chocolate bars" />
<meta property="og:type" content="website" />
<meta property="og:url" content="None" />
<meta property="og:image" content="" />
<meta property="og:description" content="Finding the best chocolate bars  📖 Background  A specialty foods import company wants to expand into gourmet chocolate bars. Let’s research this market to infor" />
<meta property="og:site_name" content="shpg-dsprojects" />
<meta name="theme-color" content="#ffffff" />

  </head>
<body>


    <span id="top"></span>

    <div class="qe-wrapper">

        <div class="qe-main">

            <div class="qe-page" id=projects/chocolate_bars/chocolate_bars>

                <div class="qe-page__toc">

                    <div class="inner">

                        
                        <div class="qe-page__toc-header">
                            On this page
                        </div>


                        <nav id="bd-toc-nav" class="qe-page__toc-nav">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#background">
   📖 Background
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-data">
   💾 The data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-data-file-contains-the-following-information-source">
     The data file contains the following information (source):
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#challenge">
   💪 Challenge
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#summary">
   Summary
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#imports">
   Imports
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#load-data">
   Load Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-size-and-structure">
   Data Size and Structure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#missing-data">
   Missing Data
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-the-average-rating-by-country-of-origin">
   1. What is the average rating by country of origin?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-many-bars-were-reviewed-for-each-of-those-countries">
   2. How many bars were reviewed for each of those countries?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#is-the-cacao-beans-origin-an-indicator-of-quality">
   3. Is the cacao bean’s origin an indicator of quality?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#how-does-cocoa-content-relate-to-rating">
   4. How does cocoa content relate to rating?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-is-the-average-cocoa-content-for-bars-with-higher-ratings-above-3-5">
   4.5 What is the average cocoa content for bars with higher ratings (above 3.5)?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#compare-the-average-rating-of-bars-with-and-without-lecithin-l-in-the-ingredients">
   5. Compare the average rating of bars with and without lecithin (L in the ingredients).
  </a>
 </li>
</ul>

                            <p class="logo">
                                
                                    
                                    <a href="../../intro.html"><img src="../../_static/cat.jpeg" class="logo" alt="logo"></a>
                                    
                                
                            </p>

                            <p class="powered">Powered by <a href="https://jupyterbook.org/">Jupyter Book</a></p>

                        </nav>

                        <div class="qe-page__toc-footer">
                            
                            
                            <p><a href="#top"><strong>Back to top</strong></a></p>
                        </div>

                    </div>

                </div>

                <div class="qe-page__header">

                    <div class="qe-page__header-copy">

                        <p class="qe-page__header-heading"><a href="../../intro.html">shpg-dsprojects</a></p>

                        <p class="qe-page__header-subheading">Finding the best chocolate bars</p>

                    </div>

                    <p class="qe-page__header-authors">Patrick Guo</p>

                </div> <!-- .page__header -->



                
                <main class="qe-page__content" role="main">
                    
                    <div>
                        
  <div class="tex2jax_ignore mathjax_ignore section" id="finding-the-best-chocolate-bars">
<h1><a class="reference external" href="https://app.datacamp.com/workspace/w/8670b5a6-1cf9-45f8-8f5b-fa1cdaeccde5">Finding the best chocolate bars</a><a class="headerlink" href="#finding-the-best-chocolate-bars" title="Permalink to this headline">¶</a></h1>
<div class="section" id="background">
<h2>📖 Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>A specialty foods import company wants to expand into gourmet chocolate bars. Let’s research this market to inform the initial approach to potential suppliers.</p>
<p>After finding valuable chocolate bar ratings online, we will need to explore if the chocolate bars with the highest ratings share any characteristics that could help narrow down the search for suppliers (e.g., cacao percentage, bean country of origin, etc.)</p>
</div>
<div class="section" id="the-data">
<h2>💾 The data<a class="headerlink" href="#the-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-data-file-contains-the-following-information-source">
<h3>The data file contains the following information (<a class="reference external" href="https://flavorsofcacao.com">source</a>):<a class="headerlink" href="#the-data-file-contains-the-following-information-source" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>“id” - id number of the review</p></li>
<li><p>“manufacturer” - Name of the bar manufacturer</p></li>
<li><p>“company_location” - Location of the manufacturer</p></li>
<li><p>“year_reviewed” - From 2006 to 2021</p></li>
<li><p>“bean_origin” - Country of origin of the cacao beans</p></li>
<li><p>“bar_name” - Name of the chocolate bar</p></li>
<li><p>“cocoa_percent” - Cocoa content of the bar (%)</p></li>
<li><p>“num_ingredients” - Number of ingredients</p></li>
<li><p>“ingredients” - B (Beans), S (Sugar), S* (Sweetener other than sugar or beet sugar), C (Cocoa Butter), (V) Vanilla, (L) Lecithin, (Sa) Salt</p></li>
<li><p>“review” - Summary of most memorable characteristics of the chocolate bar</p></li>
<li><p>“rating” - 1.0-1.9 Unpleasant, 2.0-2.9 Disappointing, 3.0-3.49 Recommended, 3.5-3.9 Highly Recommended, 4.0-5.0 Oustanding</p></li>
</ul>
<p><em><strong>Acknowledgments</strong>: Brady Brelinski, Manhattan Chocolate Society</em></p>
</div>
</div>
<div class="section" id="challenge">
<h2>💪 Challenge<a class="headerlink" href="#challenge" title="Permalink to this headline">¶</a></h2>
<p>This notebooks aims to report on the following questions:</p>
<ol class="simple">
<li><p>What is the average rating by country of origin?</p></li>
<li><p>How many bars were reviewed for each of those countries?</p></li>
<li><p>Create plots to visualize findings for questions 1 and 2.</p></li>
<li><p>Is the cacao bean’s origin an indicator of quality?</p></li>
<li><p>[Optional] How does cocoa content relate to rating? What is the average cocoa content for bars with higher ratings (above 3.5)?</p></li>
<li><p>[Optional 2] Your research indicates that some consumers want to avoid bars with lecithin. Compare the average rating of bars with and without lecithin (L in the ingredients).</p></li>
<li><p>Summarize your findings.</p></li>
</ol>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>The average rating by country of origin ranges from 2.71 to 3.63. The country with the highest average rating is Tobago, whereas the lowest is Puerto Rico.</p></li>
<li><p>The highest numbers of bars were reviewed for the country Venezulea with 253 bars reviewed.</p></li>
<li><p>Cocoa bean’s country of origin is not an indicator of quality.</p></li>
<li><p>Cocoa percent and rating is not correlated. The average cocao content for bars with higher ratings (above 3.5) is 71.108.</p></li>
<li><p>The average rating of bars without Lecithin is higher than bars with the ingredient.</p></li>
</ul>
</div>
<div class="section" id="imports">
<h2>Imports<a class="headerlink" href="#imports" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">scipy.stats</span> <span class="kn">import</span> <span class="n">pearsonr</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">rc</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;figure.figsize&#39;</span><span class="p">:(</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">)})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Function to display value on seaborn barplot</span>
<span class="k">def</span> <span class="nf">show_values_on_bars</span><span class="p">(</span><span class="n">axs</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_show_on_single_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">):</span>        
        <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">ax</span><span class="o">.</span><span class="n">patches</span><span class="p">:</span>
            <span class="n">_x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span>
            <span class="n">_y</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_y</span><span class="p">()</span> <span class="o">+</span> <span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span> <span class="o">+</span> <span class="mf">0.05</span>
            <span class="n">value</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:.2f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">get_height</span><span class="p">())</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">_x</span><span class="p">,</span> <span class="n">_y</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">)</span> 

    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">axs</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">ax</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndenumerate</span><span class="p">(</span><span class="n">axs</span><span class="p">):</span>
            <span class="n">_show_on_single_plot</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_show_on_single_plot</span><span class="p">(</span><span class="n">axs</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="load-data">
<h2>Load Data<a class="headerlink" href="#load-data" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Reading in the data</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/chocolate_bars.csv&#39;</span><span class="p">)</span>
<span class="c1"># Set id as index</span>
<span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># Take a look at the first datapoints</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>company_location</th>
      <th>year_reviewed</th>
      <th>bean_origin</th>
      <th>bar_name</th>
      <th>cocoa_percent</th>
      <th>num_ingredients</th>
      <th>ingredients</th>
      <th>review</th>
      <th>rating</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2454</th>
      <td>5150</td>
      <td>U.S.A.</td>
      <td>2019</td>
      <td>Tanzania</td>
      <td>Kokoa Kamili, batch 1</td>
      <td>76.0</td>
      <td>3.0</td>
      <td>B,S,C</td>
      <td>rich cocoa, fatty, bready</td>
      <td>3.25</td>
    </tr>
    <tr>
      <th>2458</th>
      <td>5150</td>
      <td>U.S.A.</td>
      <td>2019</td>
      <td>Dominican Republic</td>
      <td>Zorzal, batch 1</td>
      <td>76.0</td>
      <td>3.0</td>
      <td>B,S,C</td>
      <td>cocoa, vegetal, savory</td>
      <td>3.50</td>
    </tr>
    <tr>
      <th>2454</th>
      <td>5150</td>
      <td>U.S.A.</td>
      <td>2019</td>
      <td>Madagascar</td>
      <td>Bejofo Estate, batch 1</td>
      <td>76.0</td>
      <td>3.0</td>
      <td>B,S,C</td>
      <td>cocoa, blackberry, full body</td>
      <td>3.75</td>
    </tr>
    <tr>
      <th>2542</th>
      <td>5150</td>
      <td>U.S.A.</td>
      <td>2021</td>
      <td>Fiji</td>
      <td>Matasawalevu, batch 1</td>
      <td>68.0</td>
      <td>3.0</td>
      <td>B,S,C</td>
      <td>chewy, off, rubbery</td>
      <td>3.00</td>
    </tr>
    <tr>
      <th>2546</th>
      <td>5150</td>
      <td>U.S.A.</td>
      <td>2021</td>
      <td>Venezuela</td>
      <td>Sur del Lago, batch 1</td>
      <td>72.0</td>
      <td>3.0</td>
      <td>B,S,C</td>
      <td>fatty, earthy, moss, nutty,chalky</td>
      <td>3.00</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="data-size-and-structure">
<h2>Data Size and Structure<a class="headerlink" href="#data-size-and-structure" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Dataset comprises of 2530 observations and 10 columns, of which some are categorical and numerical.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num_ingredients</span></code> and <code class="docutils literal notranslate"><span class="pre">ingredients</span></code> contains null values.</p></li>
<li><p>There are no duplicated values.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Shape: </span><span class="si">{</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Shape: (2530, 10)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Int64Index: 2530 entries, 2454 to 2170
Data columns (total 10 columns):
 #   Column            Non-Null Count  Dtype  
---  ------            --------------  -----  
 0   manufacturer      2530 non-null   object 
 1   company_location  2530 non-null   object 
 2   year_reviewed     2530 non-null   int64  
 3   bean_origin       2530 non-null   object 
 4   bar_name          2530 non-null   object 
 5   cocoa_percent     2530 non-null   float64
 6   num_ingredients   2443 non-null   float64
 7   ingredients       2443 non-null   object 
 8   review            2530 non-null   object 
 9   rating            2530 non-null   float64
dtypes: float64(3), int64(1), object(6)
memory usage: 217.4+ KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year_reviewed</th>
      <th>cocoa_percent</th>
      <th>num_ingredients</th>
      <th>rating</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2530.000000</td>
      <td>2530.000000</td>
      <td>2443.000000</td>
      <td>2530.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>2014.374308</td>
      <td>71.639723</td>
      <td>3.041343</td>
      <td>3.196344</td>
    </tr>
    <tr>
      <th>std</th>
      <td>3.968267</td>
      <td>5.616724</td>
      <td>0.913728</td>
      <td>0.445321</td>
    </tr>
    <tr>
      <th>min</th>
      <td>2006.000000</td>
      <td>42.000000</td>
      <td>1.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>2012.000000</td>
      <td>70.000000</td>
      <td>2.000000</td>
      <td>3.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>2015.000000</td>
      <td>70.000000</td>
      <td>3.000000</td>
      <td>3.250000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2018.000000</td>
      <td>74.000000</td>
      <td>4.000000</td>
      <td>3.500000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2021.000000</td>
      <td>100.000000</td>
      <td>6.000000</td>
      <td>4.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>manufacturer         0
company_location     0
year_reviewed        0
bean_origin          0
bar_name             0
cocoa_percent        0
num_ingredients     87
ingredients         87
review               0
rating               0
dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">duplicated</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="missing-data">
<h2>Missing Data<a class="headerlink" href="#missing-data" title="Permalink to this headline">¶</a></h2>
<p>For the 87 records that have missing information. If <code class="docutils literal notranslate"><span class="pre">ingredients</span></code> is NaN, then <code class="docutils literal notranslate"><span class="pre">num_ingredients</span></code> is also NaN. Therefore <code class="docutils literal notranslate"><span class="pre">num_ingredients</span></code> is MNAR (missing not at random).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">num_ingredients</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span> <span class="o">&amp;</span> <span class="n">df</span><span class="o">.</span><span class="n">ingredients</span><span class="o">.</span><span class="n">isnull</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>manufacturer</th>
      <th>company_location</th>
      <th>year_reviewed</th>
      <th>bean_origin</th>
      <th>bar_name</th>
      <th>cocoa_percent</th>
      <th>num_ingredients</th>
      <th>ingredients</th>
      <th>review</th>
      <th>rating</th>
    </tr>
    <tr>
      <th>id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1964</th>
      <td>Amazing Cacao</td>
      <td>Russia</td>
      <td>2017</td>
      <td>Peru</td>
      <td>Maranon</td>
      <td>70.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>raisins, pungent</td>
      <td>3.00</td>
    </tr>
    <tr>
      <th>1964</th>
      <td>Amazing Cacao</td>
      <td>Russia</td>
      <td>2017</td>
      <td>Peru</td>
      <td>Platan Bajo</td>
      <td>70.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>few grits, blackcherry, licorice</td>
      <td>3.50</td>
    </tr>
    <tr>
      <th>486</th>
      <td>Artisan du Chocolat</td>
      <td>U.K.</td>
      <td>2010</td>
      <td>Venezuela</td>
      <td>Venezuela</td>
      <td>100.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>very nutty, very bitter</td>
      <td>1.75</td>
    </tr>
    <tr>
      <th>81</th>
      <td>Bonnat</td>
      <td>France</td>
      <td>2006</td>
      <td>Blend</td>
      <td>One Hundred</td>
      <td>100.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>acidic, bitter, dry</td>
      <td>1.50</td>
    </tr>
    <tr>
      <th>341</th>
      <td>Bouga Cacao (Tulicorp)</td>
      <td>Ecuador</td>
      <td>2009</td>
      <td>Ecuador</td>
      <td>El Oro, Hacienda de Oro</td>
      <td>100.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>cardboard, very bitter, floral</td>
      <td>1.50</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>153</th>
      <td>Vintage Plantations (Tulicorp)</td>
      <td>U.S.A.</td>
      <td>2007</td>
      <td>Ecuador</td>
      <td>Los Rios, Rancho Grande 2004/2007</td>
      <td>100.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>bland, mild fruit, strong bitter</td>
      <td>2.00</td>
    </tr>
    <tr>
      <th>153</th>
      <td>Vintage Plantations (Tulicorp)</td>
      <td>U.S.A.</td>
      <td>2007</td>
      <td>Ecuador</td>
      <td>Los Rios, Rancho Grande 2004/2007</td>
      <td>90.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>some fruit, strong bitter</td>
      <td>2.00</td>
    </tr>
    <tr>
      <th>153</th>
      <td>Vintage Plantations (Tulicorp)</td>
      <td>U.S.A.</td>
      <td>2007</td>
      <td>Ecuador</td>
      <td>Los Rios, Rancho Grande 2004/2007</td>
      <td>75.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>cocoa,earthy,very astringent</td>
      <td>3.00</td>
    </tr>
    <tr>
      <th>733</th>
      <td>Whittakers</td>
      <td>New Zealand</td>
      <td>2011</td>
      <td>Ghana</td>
      <td>Ghana</td>
      <td>72.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>sticky, dry, vanilla dominates</td>
      <td>2.50</td>
    </tr>
    <tr>
      <th>1109</th>
      <td>Willie's Cacao</td>
      <td>U.K.</td>
      <td>2013</td>
      <td>Indonesia</td>
      <td>Java, Indonesian Black</td>
      <td>100.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>fruit, strong smoke, bitter</td>
      <td>2.25</td>
    </tr>
  </tbody>
</table>
<p>87 rows × 10 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="what-is-the-average-rating-by-country-of-origin">
<h2>1. What is the average rating by country of origin?<a class="headerlink" href="#what-is-the-average-rating-by-country-of-origin" title="Permalink to this headline">¶</a></h2>
<p>The average rating by country of origin ranges from 2.71 to 3.63. <br>
The country with the highest average rating is Tobago, whereas the lowest is Puerto Rico.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">avg_rating_by_origin</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">df</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;bean_origin&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rating</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;rating&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">avg_rating_by_origin</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bean_origin</th>
      <th>rating</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>54</th>
      <td>Tobago</td>
      <td>3.625000</td>
    </tr>
    <tr>
      <th>7</th>
      <td>China</td>
      <td>3.500000</td>
    </tr>
    <tr>
      <th>42</th>
      <td>Sao Tome &amp; Principe</td>
      <td>3.500000</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Solomon Islands</td>
      <td>3.450000</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Congo</td>
      <td>3.318182</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Sierra Leone</td>
      <td>2.750000</td>
    </tr>
    <tr>
      <th>47</th>
      <td>St.Vincent-Grenadines</td>
      <td>2.750000</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Principe</td>
      <td>2.750000</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Martinique</td>
      <td>2.750000</td>
    </tr>
    <tr>
      <th>39</th>
      <td>Puerto Rico</td>
      <td>2.714286</td>
    </tr>
  </tbody>
</table>
<p>62 rows × 2 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;bean_origin&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;rating&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">avg_rating_by_origin</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">])</span>
<span class="n">show_values_on_bars</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Top 8 average rating by country of origin&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Country of Origin&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Average rating&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/chocolate_bars_19_0.png" src="../../_images/chocolate_bars_19_0.png" />
</div>
</div>
</div>
<div class="section" id="how-many-bars-were-reviewed-for-each-of-those-countries">
<h2>2. How many bars were reviewed for each of those countries?<a class="headerlink" href="#how-many-bars-were-reviewed-for-each-of-those-countries" title="Permalink to this headline">¶</a></h2>
<p>The highest numbers of bars were reviewed for the country Venezulea with 253 bars reviewed.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bar_count_by_origin</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
                       <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;bean_origin&quot;</span><span class="p">)</span>
                       <span class="o">.</span><span class="n">bar_name</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
                       <span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
                       <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;bar_name&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
                       <span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s2">&quot;bar_name&quot;</span><span class="p">:</span> <span class="s2">&quot;no. of bars reviewed&quot;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                      <span class="p">)</span>
<span class="n">bar_count_by_origin</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>bean_origin</th>
      <th>no. of bars reviewed</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>60</th>
      <td>Venezuela</td>
      <td>253</td>
    </tr>
    <tr>
      <th>36</th>
      <td>Peru</td>
      <td>244</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Dominican Republic</td>
      <td>226</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Ecuador</td>
      <td>219</td>
    </tr>
    <tr>
      <th>28</th>
      <td>Madagascar</td>
      <td>177</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>50</th>
      <td>Suriname</td>
      <td>1</td>
    </tr>
    <tr>
      <th>49</th>
      <td>Sumatra</td>
      <td>1</td>
    </tr>
    <tr>
      <th>48</th>
      <td>Sulawesi</td>
      <td>1</td>
    </tr>
    <tr>
      <th>47</th>
      <td>St.Vincent-Grenadines</td>
      <td>1</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Principe</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>62 rows × 2 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;bean_origin&quot;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;no. of bars reviewed&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">bar_count_by_origin</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">8</span><span class="p">])</span>
<span class="n">show_values_on_bars</span><span class="p">(</span><span class="n">ax</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Number of bars reviewed by country of origin&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Country of Origin&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Number of bars reviewed&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/chocolate_bars_22_0.png" src="../../_images/chocolate_bars_22_0.png" />
</div>
</div>
</div>
<div class="section" id="is-the-cacao-beans-origin-an-indicator-of-quality">
<h2>3. Is the cacao bean’s origin an indicator of quality?<a class="headerlink" href="#is-the-cacao-beans-origin-an-indicator-of-quality" title="Permalink to this headline">¶</a></h2>
<p>Cocoa bean’s country of origin is not an indicator of quality.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;rating&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;bean_origin&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Rating of bean by country of origin&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Country of Origin&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Rating&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/chocolate_bars_24_0.png" src="../../_images/chocolate_bars_24_0.png" />
</div>
</div>
</div>
<div class="section" id="how-does-cocoa-content-relate-to-rating">
<h2>4. How does cocoa content relate to rating?<a class="headerlink" href="#how-does-cocoa-content-relate-to-rating" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cocoa_percent</span></code> and <code class="docutils literal notranslate"><span class="pre">rating</span></code> is not correlated.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># calculate Pearson&#39;s correlation</span>
<span class="n">corr</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">pearsonr</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">rating</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">cocoa_percent</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Pearsons correlation: </span><span class="si">%.3f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">corr</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="s2">&quot;rating&quot;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;cocoa_percent&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Rating of bean by cocao content&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Cocao Content %&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Rating&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Pearsons correlation: -0.147
</pre></div>
</div>
<img alt="../../_images/chocolate_bars_26_1.png" src="../../_images/chocolate_bars_26_1.png" />
</div>
</div>
</div>
<div class="section" id="what-is-the-average-cocoa-content-for-bars-with-higher-ratings-above-3-5">
<h2>4.5 What is the average cocoa content for bars with higher ratings (above 3.5)?<a class="headerlink" href="#what-is-the-average-cocoa-content-for-bars-with-higher-ratings-above-3-5" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;rating&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="mf">3.5</span><span class="p">]</span><span class="o">.</span><span class="n">cocoa_percent</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>71.108
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="compare-the-average-rating-of-bars-with-and-without-lecithin-l-in-the-ingredients">
<h2>5. Compare the average rating of bars with and without lecithin (L in the ingredients).<a class="headerlink" href="#compare-the-average-rating-of-bars-with-and-without-lecithin-l-in-the-ingredients" title="Permalink to this headline">¶</a></h2>
<p>Some consumers want to avoid bars with lecithin.</p>
<p>The average rating of bars without Lecithin is higher than bars with the ingredient.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
<span class="n">contains_L</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;ingredients&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="s2">&quot;L&quot;</span><span class="p">)</span>
<span class="n">avg_rating_with_L</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">contains_L</span><span class="p">]</span><span class="o">.</span><span class="n">rating</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">avg_rating_without_L</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="o">~</span><span class="n">contains_L</span><span class="p">]</span><span class="o">.</span><span class="n">rating</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average rating with lecithin: </span><span class="si">{</span><span class="n">avg_rating_with_L</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Average rating without lecithin: </span><span class="si">{</span><span class="n">avg_rating_without_L</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Average rating with lecithin: 3.151
Average rating without lecithin: 3.225
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./projects/chocolate_bars"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                    </div>
                    
                </main> <!-- .page__content -->
                


                <footer class="qe-page__footer">

                    <p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://licensebuttons.net/l/by-sa/4.0/80x15.png"></a></p>

                    <p>Creative Commons License &ndash; This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International.</p>

                </footer> <!-- .page__footer -->

            </div> <!-- .page -->

            

            
            <div class="qe-sidebar bd-sidebar inactive" id="site-navigation">

                <div class="qe-sidebar__header">


                    Contents

                </div>

                <nav class="qe-sidebar__nav" id="qe-sidebar-nav" aria-label="Main navigation">
                    <ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Welcome
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Projects
 </span>
</p>
<ul class="current nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../doctor_segmentation/doctor_segmentation.html">
   Customer Segmentation for Medical Device Manufacturer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../inn_the_neighborhood/inn_the_neighborhood.html">
   Rental Price Prediction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../concrete_strength/concrete_strength.html">
   Predict Concrete Strength
  </a>
 </li>
 <li class="toctree-l1 current active active">
  <a class="current reference internal" href="#">
   Finding the best Chocolate Bars
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../travel_assured/travel_assured.html">
   Travel Insurance Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exam_scores/exam_scores.html">
   Do test preparation courses help you prepare for exams?
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../viral_tweets/README.html">
   Viral Tweets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../stock_sentiment_from_headlines/stock_sentiment_from_headlines.html">
   Stock Sentiment Analysis from News Headlines
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../BCG/README.html">
   PowerCo - Is Churn driven by price sensitivity?
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../BCG/PowerCo_email.html">
     PowerCo - Proposal
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../BCG/eda.html">
     PowerCo - EDA
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../sms_classifier/README.html">
   SMS Text Classification
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../sms_classifier/sms_classification.html">
     Neural Network - SMS Text Classification
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Achievements
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../../achievements/certificates.html">
   Certifications
  </a>
 </li>
</ul>

                </nav>

                <div class="qe-sidebar__footer">

                </div>

            </div> <!-- .sidebar -->
            
        </div> <!-- .main -->

        <div class="qe-toolbar">

            <div class="qe-toolbar__inner">

                <ul class="qe-toolbar__main">
                    <li data-tippy-content="Table of Contents" class="btn__sidebar"><i data-feather="menu"></i></li>
                    <li data-tippy-content="Home"><a href="../../intro.html"><i data-feather="home"></i></a></li>
                    <li class="btn__qelogo"><a href="" title=""><span class="show-for-sr"></span></a></li>
                    <!-- <li class="btn__search">
                        <form action="../../search.html" method="get">
                            <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off">
                            <i data-feather="search"></i>
                        </form>
                    </li> -->
                </ul>

                <ul class="qe-toolbar__links">
                    <li data-tippy-content="Fullscreen" class="btn__fullscreen"><i data-feather="maximize"></i></li>
                    <li data-tippy-content="Increase font size" class="btn__plus"><i data-feather="plus-circle"></i></li>
                    <li data-tippy-content="Decrease font size" class="btn__minus"><i data-feather="minus-circle"></i></li>
                    <li data-tippy-content="Change contrast" class="btn__contrast"><i data-feather="sunset"></i></li>
                        <li data-tippy-content="Download PDF" onClick="window.print()"><i data-feather="file"></i></li>
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/shpatrickguo/dsprojects/tree/main/projects/chocolate_bars/chocolate_bars.ipynb" download><i data-feather="github"></i></a></li>
                </ul>

            </div>

        </div> <!-- .toolbar -->
        <div id="downloadPDFModal" style="display: none;">
            <ul class="pdf-options" style="display: block;">
                <li class="download-pdf-book" onClick="window.print()">
                    <p>Lecture (PDF)</p>
                </li>
                <li class="download-pdf-file">
                    <a href="" download><p>Book (PDF)</p></a>
                </li>
            </ul>
        </div>
        <div id="settingsModal" style="display: none;">
            <p class="modal-title"> Notebook Launcher </p>
            <div class="modal-desc">
            <p>
                Choose public or private cloud service for "Launch" button.
            </p>
            </div>
            <p class="modal-subtitle">Select a server</p>
            <ul class="modal-servers">
            <li class="active launcher-public">
                <span class="label">Public</span>
                <select id="launcher-public-input">
                
                </select>
                <i class="fas fa-check-circle"></i>
            </li>
            <li class="launcher-private">
                <span class="label">Private</span>
                <input type="text" id="launcher-private-input" data-repourl="" data-urlpath="" data-branch=>
                <i class="fas fa-check-circle"></i>
            </li>
            </ul>
            <p class="launch"><a href="" id="advancedLaunchButton" target="_blank">Launch Notebook</a></p>
            <script>
                // QuantEcon Notebook Launcher
                const launcherTypeElements = document.querySelectorAll('#settingsModal .modal-servers li');
                // Highlight the server type if previous selection exists
                if (typeof localStorage.launcherType !== 'undefined') {
                  for (var i = 0; i < launcherTypeElements.length; i++) {
                    launcherTypeElements[i].classList.remove('active');
                    if ( launcherTypeElements[i].classList.contains(localStorage.launcherType) ) {
                      launcherTypeElements[i].classList.add('active');
                    }
                  }
                }
                // Highlight server type on click and set local storage value
                for (var i = 0; i < launcherTypeElements.length; i++) {
                  launcherTypeElements[i].addEventListener('click', function() {
                    for (var j = 0; j < launcherTypeElements.length; j++) {
                      launcherTypeElements[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    if ( this.classList.contains('launcher-private') ) {
                      localStorage.launcherType = 'launcher-private';
                    } else if ( this.classList.contains('launcher-public') ) {
                      localStorage.launcherType = 'launcher-public';
                    }
                    setLaunchServer();
                  })
                }
                const launcherPublic = document.getElementById('launcher-public-input');
                const launcherPrivate = document.getElementById('launcher-private-input');
                const pageName = "projects/chocolate_bars/chocolate_bars";
                const repoURL = "";
                const urlPath = "";
                const branch = ""
                const launchNotebookLink = document.getElementById('advancedLaunchButton');

                // Highlight public server option if previous selection exists
                if (typeof localStorage.launcherPublic !== 'undefined') {
                  launcherPublic.value = localStorage.launcherPublic;
                }
                // Update local storage upon public server selection
                launcherPublic.addEventListener('change', (event) => {
                  setLaunchServer();
                });
                // Populate private server input if previous entry exists
                if (typeof localStorage.launcherPrivate !== 'undefined') {
                  launcherPrivate.value = localStorage.launcherPrivate;
                }
                // Update local storage when a private server is entered
                launcherPrivate.addEventListener('input', (event) => {
                  setLaunchServer();
                });

                // Function to update the "Launch Notebook" link href
                function setLaunchServer() {
                  launchNotebookLink.removeAttribute("style")
                  if ( localStorage.launcherType == 'launcher-private' ) {
                    let repoPrefix = "/jupyter/hub/user-redirect/git-pull?repo=" + repoURL + "&branch=" + branch + "&urlpath=" + urlPath;
                    launcherPrivateValue = launcherPrivate.value
                    if (!launcherPrivateValue) {
                        launchNotebookLink.removeAttribute("href")
                        launchNotebookLink.style.background = "grey"
                        return
                    }
                    localStorage.launcherPrivate = launcherPrivateValue;
                    privateServer = localStorage.launcherPrivate.replace(/\/$/, "")
                    if (!privateServer.includes("http")) {
                        privateServer = "http://" + privateServer
                    }
                    launchNotebookLinkURL = privateServer + repoPrefix;
                  } else if ( localStorage.launcherType == 'launcher-public' ) {
                    launcherPublicValue = launcherPublic.options[launcherPublic.selectedIndex].value;
                    localStorage.launcherPublic = launcherPublicValue;
                    launchNotebookLinkURL = localStorage.launcherPublic;
                  }
                  if (launchNotebookLinkURL) launchNotebookLink.href = launchNotebookLinkURL;
                }
                // Check if user has previously selected a server
                if ( (typeof localStorage.launcherPrivate !== 'undefined') || (typeof localStorage.launcherPublic !== 'undefined') ) {
                  setLaunchServer();
                }
                </script>

        </div>

    </div> <!-- .wrapper-->
    
  </body>
</html>